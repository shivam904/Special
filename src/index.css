@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base emotional styling */
@layer base {
  * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  html {
    scroll-behavior: smooth;
    background-color: #1a1816;
  }

  body {
    @apply bg-bg-deep text-text-ivory font-serif;
    overflow-x: hidden;
    /* Prevent overscroll bounce on iOS */
    overscroll-behavior: none;
  }

  ::selection {
    background-color: rgba(196, 167, 125, 0.3);
    color: #f5f0e8;
  }

  /* Hide scrollbar for cleaner experience */
  ::-webkit-scrollbar {
    width: 0px;
    background: transparent;
  }

  /* For Firefox */
  html {
    scrollbar-width: none;
  }
}

@layer components {
  /* Film grain overlay */
  .grain-overlay {
    position: fixed;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    width: 200%;
    height: 200%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    opacity: 0.035;
    pointer-events: none;
    z-index: 9999;
    animation: grain 8s steps(10) infinite;
  }

  /* Vignette effect */
  .vignette {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 9998;
    background: radial-gradient(
      ellipse at center,
      transparent 0%,
      transparent 50%,
      rgba(26, 24, 22, 0.4) 100%
    );
  }

  /* Section styling */
  .scroll-section {
    @apply min-h-screen w-full relative flex items-center justify-center;
    @apply px-6 py-12 md:px-12 lg:px-24;
  }

  /* Text glow effect */
  .text-glow {
    text-shadow: 0 0 40px rgba(245, 240, 232, 0.1);
  }

  /* Image treatment - diffused and organic */
  .image-cinematic {
    @apply relative overflow-hidden;
  }

  .image-cinematic::after {
    content: '';
    position: absolute;
    inset: 0;
    background: radial-gradient(
      ellipse at center,
      transparent 40%,
      rgba(26, 24, 22, 0.5) 100%
    );
    pointer-events: none;
  }

  /* Diffused image container */
  .image-diffused {
    position: relative;
  }

  .image-diffused::before {
    content: '';
    position: absolute;
    inset: -40px;
    background: radial-gradient(
      ellipse at center,
      transparent 40%,
      rgba(26, 24, 22, 0.6) 70%,
      rgba(26, 24, 22, 0.95) 100%
    );
    pointer-events: none;
    z-index: 5;
  }

  /* Organic frame effect */
  .organic-frame {
    border-radius: 24px;
    overflow: hidden;
    mask-image: radial-gradient(
      ellipse 90% 90% at center,
      black 50%,
      rgba(0,0,0,0.7) 75%,
      transparent 100%
    );
    -webkit-mask-image: radial-gradient(
      ellipse 90% 90% at center,
      black 50%,
      rgba(0,0,0,0.7) 75%,
      transparent 100%
    );
  }

  /* Warm glow behind images */
  .image-glow {
    position: absolute;
    inset: -20%;
    background: radial-gradient(
      ellipse at center,
      rgba(196, 167, 125, 0.06) 0%,
      rgba(180, 140, 100, 0.03) 40%,
      transparent 70%
    );
    filter: blur(40px);
    z-index: -1;
  }

  /* Soft gradient backgrounds */
  .bg-gradient-emotional {
    background: linear-gradient(
      180deg,
      #1a1816 0%,
      #2a2723 50%,
      #1a1816 100%
    );
  }

  .bg-gradient-warm {
    background: linear-gradient(
      135deg,
      #2a2723 0%,
      #322e29 50%,
      #2d2e28 100%
    );
  }

  /* Audio toggle button */
  .audio-toggle {
    @apply fixed bottom-6 right-6 z-50;
    @apply w-10 h-10 rounded-full;
    @apply flex items-center justify-center;
    @apply bg-bg-charcoal/50 backdrop-blur-sm;
    @apply border border-text-whisper/20;
    @apply text-text-muted hover:text-text-ivory;
    @apply transition-all duration-500 ease-emotional;
    @apply opacity-50 hover:opacity-100;
  }

  /* Breathing animation for text */
  .breathe {
    animation: breathe 4s ease-in-out infinite;
  }

  @keyframes breathe {
    0%, 100% {
      opacity: 0.7;
    }
    50% {
      opacity: 1;
    }
  }
}

@layer utilities {
  /* Custom blur values */
  .blur-emotional {
    filter: blur(60px);
  }

  /* Opacity utilities */
  .opacity-calm {
    opacity: 0.85;
  }

  /* Safe area padding for mobile */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
